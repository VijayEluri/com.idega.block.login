<div
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:ifaces="http://xmlns.idega.com/com.idega.facelets">
	<!-- Reminder form -->
	<h:form
		rendered="#{not passwordTokenBean.processStarted}"
		styleClass="password-form"
		id="passwordReminder">
		<script 
		type="text/javascript">
			jQuery(document).ready(function(){
				PasswordTokenCreatorHelper.FIELD_IS_REQUIRED = "#{localizedStrings['com.idega.block.login']['reset.field_is_required']}";
			});
		</script>
		<h3>#{localizedStrings['com.idega.block.login']['reset.password_reset']}</h3>
		<h:panelGrid
			columns="2"
			styleClass="passwordTable">
			
			<h:panelGroup>
				<h:outputLabel
					for="email"
					value="#{localizedStrings['com.idega.block.login']['reset.identificator']}"
					class="password-reminder-email-label"/>
			</h:panelGroup>
			<h:panelGroup>
				<h:inputText
					id="email"
					value="#{passwordTokenBean.identifier}"
					class="password-reminder-email-input"/>
			</h:panelGroup>
			<h:panelGroup>
				<h:outputLabel
					for="capchaText"
					value="#{localizedStrings['com.idega.block.login']['reset.enter_text_above']}"
					class="password-reminder-captcha-text-label"/>
			</h:panelGroup>
			<h:panelGroup>
				<h:inputText
					id="capchaText"
					value="#{passwordTokenBean.capcha}"
					class="password-reminder-captcha-text-input"/>
				<h:outputText
					rendered="#{passwordTokenBean.capchaFailed}"
					for="capchaText"
					value="#{localizedStrings['com.idega.block.login']['reset.capcha_failed']}"
					styleClass="errorMessage"/>
			</h:panelGroup>
			<h:panelGroup/>
			<h:panelGroup>
				<h:graphicImage 
					value="#{web2bean.JCaptchaImageURL}"
					alt="capcha"
					class="password-reminder-captcha-image"/>
			</h:panelGroup>
		</h:panelGrid>
		<h:commandButton
			id="saveButton"
			value="#{localizedStrings['com.idega.block.login']['reset.reset']}"
			action="#{passwordTokenBean.submit}"
			class="password-reminder-submit-button"/>
	</h:form>
	<h:panelGroup
		rendered="#{passwordTokenBean.processStarted}">
		<ui:fragment rendered="#{empty passwordTokenBean.tokenSendResponseDiv}">
			<h3>#{localizedStrings['com.idega.block.login']['reset.password_reset']}</h3>
			<p class="password-reminder-email-sent-subject">#{localizedStrings['com.idega.block.login']['mail.email_sent']}</p>
			<p class="password-reminder-email-sent-msg-1">#{localizedStrings['com.idega.block.login']['mail.email_sent_to']}
				<h:outputText value="#{passwordTokenBean.identifier}"/>
			</p>
			<p class="password-reminder-email-sent-msg-2">#{localizedStrings['com.idega.block.login']['mail.email_sent_info']}</p>
		</ui:fragment>
		<ui:fragment rendered="#{not empty passwordTokenBean.tokenSendResponseDiv}">
			<ifaces:faceletComponent faceletURI="#{passwordTokenBean.tokenSendResponseDiv}" />
		</ui:fragment>
	</h:panelGroup>
</div>